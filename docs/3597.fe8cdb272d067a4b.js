"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3597],{3597:(y,u,t)=>{t.r(u),t.d(u,{LoginPageModule:()=>L});var m=t(177),i=t(4341),r=t(4742),g=t(70),d=t(467),o=t(3953),p=t(8472),f=t(6661);function h(e,a){1&e&&(o.j41(0,"span",11),o.EFF(1,"ID or Password is Incorrect"),o.k0s())}const P=[{path:"",component:(()=>{var e;class a{constructor(n,s,c,F){this.authService=n,this.router=s,this.loader=c,this.fb=F,this.error=!1,this.loginForm=this.fb.group({email:["",[i.k0.required]],password:["",i.k0.required]})}ngOnInit(){}login(){var n=this;return(0,d.A)(function*(){if(n.loginForm.valid)try{n.loader.showLoader(),(yield n.authService.loginWithEmailPassword(n.loginForm.value.email,n.loginForm.value.password))?(n.error=!1,n.loader.stopLoader(!0),console.log("Login successful"),yield n.router.navigate(["tabs"])):(n.error=!0,console.error("Login failed"))}catch(s){n.error=!0,console.error("Error during login",s)}finally{n.loader.stopLoader()}})()}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}}return(e=a).\u0275fac=function(n){return new(n||e)(o.rXU(p.u),o.rXU(g.Ix),o.rXU(f.f),o.rXU(i.ok))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-login"]],decls:20,vars:3,consts:[[1,"login-container"],[1,"ion-justify-content-center","ion-align-items-center"],["size-md","6","size-sm","12",1,"ion-text-center"],["src","assets/logo.png","alt","Logo",1,"logo"],["color","primary"],[1,"app-heading"],[3,"ngSubmit","formGroup"],["class","error",4,"ngIf"],["formControlName","email","type","email",1,"input-txt"],["formControlName","password","type","password",1,"input-txt"],["type","submit","expand","full",3,"disabled"],[1,"error"]],template:function(n,s){1&n&&(o.j41(0,"ion-content")(1,"ion-grid",0)(2,"ion-row",1)(3,"ion-col",2),o.nrm(4,"img",3),o.j41(5,"ion-text",4)(6,"h1",5),o.EFF(7,"Kastkaar"),o.k0s()(),o.j41(8,"form",6),o.bIt("ngSubmit",function(){return s.login()}),o.DNE(9,h,2,0,"span",7),o.j41(10,"ion-item")(11,"ion-label"),o.EFF(12,"ID"),o.k0s(),o.nrm(13,"ion-input",8),o.k0s(),o.j41(14,"ion-item")(15,"ion-label"),o.EFF(16,"Password"),o.k0s(),o.nrm(17,"ion-input",9),o.k0s(),o.j41(18,"ion-button",10),o.EFF(19,"Login"),o.k0s()()()()()()),2&n&&(o.R7$(8),o.Y8G("formGroup",s.loginForm),o.R7$(),o.Y8G("ngIf",s.error),o.R7$(9),o.Y8G("disabled",s.loginForm.invalid))},dependencies:[m.bT,i.qT,i.BC,i.cb,r.Jm,r.hU,r.W9,r.lO,r.$w,r.uz,r.he,r.ln,r.IO,r.Gw,i.j4,i.JD],styles:[".input-txt[_ngcontent-%COMP%]{margin-left:5%}.login-container[_ngcontent-%COMP%]{height:100vh}ion-grid[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.logo[_ngcontent-%COMP%]{width:27%}.app-heading[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px}.error[_ngcontent-%COMP%]{color:red}"]}),a})()}];let v=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[g.iI.forChild(P),g.iI]}),a})(),L=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[m.MD,i.YN,r.bv,v,i.X1]}),a})()}}]);